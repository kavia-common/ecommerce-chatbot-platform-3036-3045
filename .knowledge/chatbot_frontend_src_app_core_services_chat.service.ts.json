{"is_source_file": true, "format": "TypeScript", "description": "This file defines an Angular service named ChatService that manages chat message streams, communicates with an API, and maintains conversation state within a chatbot frontend application.", "external_files": ["./api.service", "../models/product.model"], "external_methods": ["inject(ApiService)", "this.api.chat", "this.messagesSubject.asObservable"], "published": ["ChatService"], "classes": [{"name": "ChatService", "description": "Angular service responsible for managing chat messages, interfacing with backend API, and maintaining chat state."}], "methods": [{"name": "send", "description": "Sends a user message to the backend API, updates the message stream with user message and response, and handles errors."}, {"name": "reset", "description": "Resets the chat conversation state and clears the message stream."}, {"name": "function cryptoId() { cryptoId", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["this.api.chat", "this.messagesSubject.next", "this.messagesSubject.value", "this.messagesSubject.asObservable"], "search-terms": ["Angular ChatService", "BehaviorSubject chat messages", "send message", "conversationId", "API chat method"], "state": 2, "file_id": 27, "knowledge_revision": 118, "git_revision": "", "revision_history": [{"55": ""}, {"118": ""}], "ctags": [{"_type": "tag", "name": "ChatService", "path": "/home/kavia/workspace/code-generation/ecommerce-chatbot-platform-3036-3045/chatbot_frontend/src/app/core/services/chat.service.ts", "pattern": "/^export class ChatService {$/", "language": "TypeScript", "kind": "class"}, {"_type": "tag", "name": "api", "path": "/home/kavia/workspace/code-generation/ecommerce-chatbot-platform-3036-3045/chatbot_frontend/src/app/core/services/chat.service.ts", "pattern": "/^  private api = inject(ApiService);$/", "language": "TypeScript", "kind": "property", "scope": "ChatService", "scopeKind": "class"}, {"_type": "tag", "name": "conversationId", "path": "/home/kavia/workspace/code-generation/ecommerce-chatbot-platform-3036-3045/chatbot_frontend/src/app/core/services/chat.service.ts", "pattern": "/^      conversationId: this.conversationId,$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "cryptoId", "path": "/home/kavia/workspace/code-generation/ecommerce-chatbot-platform-3036-3045/chatbot_frontend/src/app/core/services/chat.service.ts", "pattern": "/^function cryptoId() {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "errMsg", "path": "/home/kavia/workspace/code-generation/ecommerce-chatbot-platform-3036-3045/chatbot_frontend/src/app/core/services/chat.service.ts", "pattern": "/^        const errMsg: ChatMessage = {$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "merged", "path": "/home/kavia/workspace/code-generation/ecommerce-chatbot-platform-3036-3045/chatbot_frontend/src/app/core/services/chat.service.ts", "pattern": "/^        const merged = [...this.messagesSubject.value, ...resp.messages];$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "req", "path": "/home/kavia/workspace/code-generation/ecommerce-chatbot-platform-3036-3045/chatbot_frontend/src/app/core/services/chat.service.ts", "pattern": "/^    const req: ChatRequest = {$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "userMsg", "path": "/home/kavia/workspace/code-generation/ecommerce-chatbot-platform-3036-3045/chatbot_frontend/src/app/core/services/chat.service.ts", "pattern": "/^    const userMsg: ChatMessage = {$/", "language": "TypeScript", "kind": "constant"}], "hash": "55b995255d0c5a6f2b4d186f207265e5", "format-version": 4, "code-base-name": "chatbot_frontend", "filename": "chatbot_frontend/src/app/core/services/chat.service.ts", "fields": [{"name": "private api = inject(ApiService);", "scope": "ChatService", "scopeKind": "class", "description": "unavailable"}]}