{"is_source_file": true, "format": "TypeScript (Angular component)", "description": "This file defines an Angular component 'ChatPanelComponent' which implements the user interface for a chat panel in an e-commerce shopping assistant application. It manages chat messages, user input, and interactions with the ChatService, including initialization, message display, and closing the chat panel.", "external_files": ["../../../core/services/chat.service", "@angular/core", "@angular/common", "@angular/forms"], "external_methods": ["inject(ChatService)", "this.chat.messages$.subscribe()", "this.chat.reset()", "this.chat.send()"], "published": ["ChatPanelComponent"], "classes": [{"name": "ChatPanelComponent", "description": "An Angular component providing a chat interface for the shopping assistant, handling message display, user input, and component lifecycle."}], "methods": [{"name": "ngOnInit", "description": "Initializes the component, sends a greeting message if chat history is empty."}, {"name": "ngOnDestroy", "description": "Cleans up subscriptions when the component is destroyed."}, {"name": "send", "description": "Sends the user input as a chat message via ChatService."}, {"name": "close", "description": "Dispatches a custom event to close the chat panel."}, {"name": "scrollToBottom", "description": "Scrolls the chat message container to the bottom to show the latest messages."}], "calls": ["this.chat.messages$.subscribe()", "this.chat.reset()", "this.chat.send()", "window.dispatchEvent()"], "search-terms": ["ChatPanelComponent", "Angular chat UI", "chat service interaction", "chat message handling", "shopping assistant chat"], "state": 2, "file_id": 33, "knowledge_revision": 116, "git_revision": "", "revision_history": [{"67": ""}, {"116": ""}], "ctags": [{"_type": "tag", "name": "ChatPanelComponent", "path": "/home/kavia/workspace/code-generation/ecommerce-chatbot-platform-3036-3045/chatbot_frontend/src/app/features/chat/chat-panel/chat-panel.component.ts", "pattern": "/^export class ChatPanelComponent implements OnInit, OnDestroy {$/", "language": "TypeScript", "kind": "class"}, {"_type": "tag", "name": "chat", "path": "/home/kavia/workspace/code-generation/ecommerce-chatbot-platform-3036-3045/chatbot_frontend/src/app/features/chat/chat-panel/chat-panel.component.ts", "pattern": "/^  private chat = inject(ChatService);$/", "language": "TypeScript", "kind": "property", "scope": "ChatPanelComponent", "scopeKind": "class"}, {"_type": "tag", "name": "el", "path": "/home/kavia/workspace/code-generation/ecommerce-chatbot-platform-3036-3045/chatbot_frontend/src/app/features/chat/chat-panel/chat-panel.component.ts", "pattern": "/^    const el = this.scroller?.nativeElement;$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "evt", "path": "/home/kavia/workspace/code-generation/ecommerce-chatbot-platform-3036-3045/chatbot_frontend/src/app/features/chat/chat-panel/chat-panel.component.ts", "pattern": "/^      const evt = new CustomEvent('app:chat-close');$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "text", "path": "/home/kavia/workspace/code-generation/ecommerce-chatbot-platform-3036-3045/chatbot_frontend/src/app/features/chat/chat-panel/chat-panel.component.ts", "pattern": "/^    const text = this.vm.input.trim();$/", "language": "TypeScript", "kind": "constant"}], "hash": "0fb52bff84f163741a66ef9dfb6a09d9", "format-version": 4, "code-base-name": "chatbot_frontend", "filename": "chatbot_frontend/src/app/features/chat/chat-panel/chat-panel.component.ts", "fields": [{"name": "private chat = inject(ChatService);", "scope": "ChatPanelComponent", "scopeKind": "class", "description": "unavailable"}]}